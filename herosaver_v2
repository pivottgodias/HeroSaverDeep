(() => {
    // Verifica se já foi carregado para evitar múltiplas execuções
    if (window.saveStl) {
        console.log("HeroSaver já carregado.");
        return;
    }

    // Função para baixar um arquivo STL
    window.saveStl = function (stlUrl = "https://exemplo.com/modelo.stl", fileName = "modelo.stl") {
        fetch(stlUrl)
            .then(response => response.blob())
            .then(blob => {
                const link = document.createElement("a");
                link.href = URL.createObjectURL(blob);
                link.download = fileName;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            })
            .catch(error => console.error("Erro ao baixar STL:", error));
    };

    console.log("HeroSaver carregado. Use saveStl('URL_DO_STL') para baixar um STL.");
})();
